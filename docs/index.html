<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="log_custom_printer API docs, for the Dart programming language.">
  <title>log_custom_printer - Dart API docs</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="static-assets/github.css?v1">
  <link rel="stylesheet" href="static-assets/styles.css?v1">
  <link rel="icon" href="static-assets/favicon.png?v1">
  
</head>

<body data-base-href="" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li class="self-crumb">log_custom_printer package</li>
  </ol>
  <div class="self-name">log_custom_printer</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
  <div id="dartdoc-main-content" class="main-content">
      
<section class="desc markdown">
  <h1 id="log_custom_printer">log_custom_printer</h1>
<p>Biblioteca Dart/Flutter para logging customizado com serializa√ß√£o JSON, formata√ß√£o colorida ANSI e inje√ß√£o de depend√™ncia (get_it). Ideal para aplica√ß√µes que necessitam de logs estruturados, rastre√°veis e visualmente organizados.</p>
<blockquote>
<p><strong>v2.0.0</strong> ‚Äî Refatora√ß√£o da API de registro: <code>registerLogPrinterColor</code> e <code>registerLogPrinterSimple</code> retornam <code>LoggerCacheRepository</code> e incluem cache integrado por padr√£o. Impressoras customizadas via <code>registerLogPrinter(LogPrinterBase, cacheRepository: ...)</code>.</p>
</blockquote>
<h2 id="-funcionalidades">‚ú® Funcionalidades</h2>
<ul>
<li>üéØ <strong>Hierarquia de logs tipada</strong>: <code>DebugLog</code>, <code>InfoLog</code>, <code>WarningLog</code>, <code>ErrorLog</code></li>
<li>üé® <strong>Formata√ß√£o colorida</strong>: C√≥digos ANSI para logs visuais no terminal</li>
<li>üì¶ <strong>Serializa√ß√£o JSON</strong>: Auto-gera√ß√£o com <code>json_serializable</code></li>
<li>üîß <strong>Configura√ß√£o flex√≠vel</strong>: Filtragem por tipos e controle de habilita√ß√£o</li>
<li>üíæ <strong>Sistema de Cache</strong>: Armazenamento de logs em mem√≥ria e persist√™ncia em arquivo JSON</li>
<li>üèóÔ∏è <strong>Inje√ß√£o de Depend√™ncia</strong>: Configura√ß√£o via <code>registerLogPrinter</code>, <code>registerLogPrinterColor</code> ou <code>registerLogPrinterSimple</code> (get_it)</li>
<li>üé≠ <strong>Mixin utilities</strong>: <code>LoggerClassMixin</code> para integra√ß√£o f√°cil em classes</li>
<li>üîç <strong>Rastreabilidade</strong>: Identifica√ß√£o autom√°tica da classe de origem</li>
</ul>
<h2 id="-instalao">üöÄ Instala√ß√£o</h2>
<p>Adicione no <code>pubspec.yaml</code>:</p>
<pre class="language-yaml"><code class="language-yaml">dependencies:
  log_custom_printer:
    git:
      url: https://github.com/saulogatti/log_custom_printer.git
    # ou use path local para desenvolvimento:
    # path: ../log_custom_printer
</code></pre>
<p>Execute:</p>
<pre class="language-bash"><code class="language-bash">dart pub get     # Projetos Dart puro
flutter pub get  # Projetos Flutter
</code></pre>
<p><strong>Requisitos:</strong> Dart SDK ^3.11.0</p>
<h2 id="-uso-bsico">üìñ Uso B√°sico</h2>
<h3 id="configurao-inicial-obrigatrio-no-startup">Configura√ß√£o Inicial (obrigat√≥rio no startup)</h3>
<pre class="language-dart"><code class="language-dart">import 'package:log_custom_printer/log_custom_printer.dart';

void main() {
  // Configura√ß√£o com cores (recomendado para desenvolvimento)
  // Retorna LoggerCacheRepository para acesso ao cache de logs
  final cacheRepository = registerLogPrinterColor(
    config: ConfigLog(enableLog: true),
    maxLogsInCache: 100, // Opcional: limite de logs em mem√≥ria por tipo (padr√£o: 100)
    cacheFilePath: '/caminho/para/salvar/logs', // Opcional: persist√™ncia em arquivo JSON
  );

  // Ou configura√ß√£o simples sem cores
  // final cacheRepository = registerLogPrinterSimple(config: ConfigLog(enableLog: true));

  runApp(MyApp());
}
</code></pre>
<h3 id="sistema-de-cache">Sistema de Cache</h3>
<p><code>registerLogPrinterColor</code> e <code>registerLogPrinterSimple</code> retornam um <code>LoggerCacheRepository</code> que armazena logs em mem√≥ria e, opcionalmente, em arquivo via <code>cacheFilePath</code>.</p>
<pre class="language-dart"><code class="language-dart">// Recuperar todos os logs
final allLogs = await cacheRepository.getAllLogs();

// Recuperar logs por tipo
final errorLogs = await cacheRepository.getLogsByType(EnumLoggerType.error);

// Limpar logs
await cacheRepository.clearLogs();
await cacheRepository.clearLogsByType(EnumLoggerType.debug);
</code></pre>
<p>Para implementar storage customizado (banco local, SharedPreferences etc.), implemente <code>LoggerCacheRepository</code> e passe via <code>registerLogPrinter(printer, cacheRepository: seuRepository)</code>.</p>
<h3 id="usando-o-mixin-recomendado">Usando o Mixin (Recomendado)</h3>
<pre class="language-dart"><code class="language-dart">class MinhaClasse with LoggerClassMixin {
  void minhaFuncao() {
    logDebug('Iniciando fun√ß√£o');
    logInfo('Processando dados...');

    try {
      // c√≥digo da fun√ß√£o
      logInfo('Fun√ß√£o executada com sucesso');
    } catch (error, stackTrace) {
      logError('Erro na fun√ß√£o: $error', stackTrace);
    }
  }
}
</code></pre>
<h3 id="uso-direto-dos-objetos-de-log">Uso Direto dos Objetos de Log</h3>
<pre class="language-dart"><code class="language-dart">// Criando logs espec√≠ficos
final debugLog = DebugLog('Mensagem de debug', typeClass: runtimeType);
debugLog.sendLog();

final errorLog = ErrorLog('Algo deu errado', StackTrace.current, typeClass: runtimeType);
errorLog.sendLog();

// Serializa√ß√£o JSON
final json = debugLog.toJson();
final logRecriado = DebugLog.fromJson(json);
</code></pre>
<h3 id="configurao-avanada">Configura√ß√£o Avan√ßada</h3>
<pre class="language-dart"><code class="language-dart">void main() {
  // Configura√ß√£o customizada - apenas logs de erro e debug
  registerLogPrinterColor(
    config: ConfigLog(
      enableLog: true,
      onlyClasses: {DebugLog, ErrorLog}, // Filtra apenas estes tipos
    ),
  );

  // Ou para produ√ß√£o - logs desabilitados
  // registerLogPrinterSimple(config: ConfigLog(enableLog: false));

  runApp(MyApp());
}
</code></pre>
<h3 id="regras-de-entrega-de-logs">Regras de Entrega de Logs</h3>
<ul>
<li><code>ConfigLog.enableLog</code>: quando <code>false</code>, todos os logs s√£o ignorados <strong>exceto</strong> aqueles com <code>alwaysPrint</code> (ex: <code>ErrorLog</code>).</li>
<li><code>ConfigLog.onlyClasses</code>: filtra quais tipos s√£o aceitos; se n√£o estiver vazio e o tipo n√£o estiver no conjunto, o log √© descartado.</li>
<li><code>LoggerClassMixin</code>: preenche automaticamente <code>className</code> com o <code>runtimeType</code> da classe que est√° emitindo o log.</li>
<li><code>LoggerJsonList</code>: mant√©m no m√°ximo <code>maxLogEntries</code> (padr√£o 100) por tipo, inserindo o mais novo no topo e descartando o mais antigo.</li>
</ul>
<h2 id="-arquitetura">üèóÔ∏è Arquitetura</h2>
<h3 id="componentes-principais">Componentes Principais</h3>
<ul>
<li><strong><code>LoggerObject</code></strong> (sealed class) ‚Äî Hierarquia base para tipos de log</li>
<li><strong><code>LoggerObjectBase</code></strong> ‚Äî Classe abstrata com funcionalidades comuns</li>
<li><strong><code>LogPrinterService</code></strong> ‚Äî Servi√ßo central que coordena impress√£o e cache (resolvido via get_it)</li>
<li><strong><code>registerLogPrinter</code></strong> / <strong><code>registerLogPrinterColor</code></strong> / <strong><code>registerLogPrinterSimple</code></strong> ‚Äî Inje√ß√£o de depend√™ncia via get_it</li>
<li><strong><code>ConfigLog</code></strong> ‚Äî Configura√ß√£o de habilita√ß√£o e filtragem (padr√£o: <code>enableLog: false</code>, <code>onlyClasses: {DebugLog, WarningLog, InfoLog}</code>)</li>
<li><strong><code>LoggerCacheRepository</code></strong> ‚Äî Interface para reposit√≥rio de cache de logs (retornado pelos <code>register*</code>)</li>
<li><strong><code>LoggerClassMixin</code></strong> ‚Äî Mixin para integra√ß√£o f√°cil em classes</li>
</ul>
<h3 id="tipos-de-log-disponveis">Tipos de Log Dispon√≠veis</h3>
<table>
<thead>
<tr>
<th>Tipo</th>
<th>Cor ANSI</th>
<th>Uso</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DebugLog</code></td>
<td>üü° Amarelo</td>
<td>Informa√ß√µes de debug/desenvolvimento</td>
</tr>
<tr>
<td><code>InfoLog</code></td>
<td>‚ö™ Branco</td>
<td>Informa√ß√µes gerais</td>
</tr>
<tr>
<td><code>WarningLog</code></td>
<td>üü¢ Verde</td>
<td>Avisos e alertas</td>
</tr>
<tr>
<td><code>ErrorLog</code></td>
<td>üî¥ Vermelho</td>
<td>Erros e exce√ß√µes (sempre processado via <code>alwaysPrint</code>)</td>
</tr>
</tbody>
</table>
<h3 id="impressoras-de-log">Impressoras de Log</h3>
<ul>
<li><strong><code>LogSimplePrint</code></strong> ‚Äî Sa√≠da simples via <code>print()</code> (sem cores)</li>
<li><strong><code>LogWithColorPrint</code></strong> ‚Äî Sa√≠da colorida via <code>dart:developer.log()</code> com separadores ANSI</li>
</ul>
<p>Use <code>registerLogPrinterColor()</code> ou <code>registerLogPrinterSimple()</code> para configura√ß√£o r√°pida; ou <code>registerLogPrinter(LogPrinterBase)</code> para impressoras customizadas.</p>
<h2 id="-desenvolvimento">üõ†Ô∏è Desenvolvimento</h2>
<h3 id="dependncias-de-desenvolvimento">Depend√™ncias de Desenvolvimento</h3>
<pre class="language-bash"><code class="language-bash"># Instalar depend√™ncias
dart pub get
# ou: flutter pub get

# Code generation (OBRIGAT√ìRIO ap√≥s mudan√ßas em classes @JsonSerializable)
dart run build_runner build --delete-conflicting-outputs

# Ou use o script de automa√ß√£o
./ci.sh -build
</code></pre>
<h3 id="comandos-teis">Comandos √öteis</h3>
<pre class="language-bash"><code class="language-bash"># An√°lise est√°tica
dart analyze

# Testes
dart test              # Dart puro
flutter test          # Flutter

# Documenta√ß√£o
dart doc               # Gera documenta√ß√£o em doc/api

# Atualiza√ß√£o de depend√™ncias
./ci.sh -upgrade
</code></pre>
<p>Cobertura atual de testes automatizados:</p>
<ul>
<li>Serializa√ß√£o e truncamento de <code>LoggerJsonList</code> mantendo ordem mais recente ‚Üí mais antiga</li>
<li>Filtragem de logs via <code>ConfigLog.onlyClasses</code> e prioriza√ß√£o de <code>ErrorLog</code> (via <code>alwaysPrint</code>) mesmo com <code>enableLog = false</code></li>
<li><code>LoggerClassMixin</code> preenchendo <code>className</code> com o <code>runtimeType</code> da classe hospedeira</li>
<li>Utilit√°rios: formata√ß√£o de data/hora, aplica√ß√£o de c√≥digos ANSI e limpeza de stack trace</li>
</ul>
<h3 id="gerao-de-documentao">Gera√ß√£o de Documenta√ß√£o</h3>
<p>O projeto est√° configurado para gerar documenta√ß√£o usando <code>dartdoc</code>. A configura√ß√£o est√° definida em <code>dartdoc_options.yaml</code> com:</p>
<ul>
<li>Categoriza√ß√£o autom√°tica por funcionalidade (Core, Log Types, Printers, Configuration, Utilities)</li>
<li>Links para o c√≥digo fonte no GitHub</li>
<li>Exclus√£o autom√°tica de arquivos gerados (*.g.dart, *.freezed.dart)</li>
<li>Sa√≠da em <code>doc/api</code></li>
</ul>
<p>Para gerar a documenta√ß√£o:</p>
<pre class="language-bash"><code class="language-bash">dart doc
</code></pre>
<p>A documenta√ß√£o gerada incluir√°:</p>
<ul>
<li>Documenta√ß√£o completa de todas as classes p√∫blicas</li>
<li>Exemplos de uso para cada componente</li>
<li>Refer√™ncias cruzadas entre tipos relacionados</li>
<li>Categorias organizadas para f√°cil navega√ß√£o</li>
</ul>
<h3 id="adicionando-novos-tipos-de-log">Adicionando Novos Tipos de Log</h3>
<ol>
<li>Estenda <code>LoggerObjectBase</code></li>
<li>Adicione <code>@JsonSerializable()</code> e importe <code>.g.dart</code></li>
<li>Implemente <code>getColor()</code> com cor espec√≠fica</li>
<li>Adicione factory <code>fromJson()</code> e override <code>toJson()</code></li>
<li>Execute <code>dart run build_runner build</code> ou <code>./ci.sh -build</code></li>
</ol>
<p>Exemplo:</p>
<pre class="language-dart"><code class="language-dart">import 'package:json_annotation/json_annotation.dart';
part 'custom_log.g.dart';

@JsonSerializable()
class CustomLog extends LoggerObjectBase {
  CustomLog(super.message, {super.typeClass});

  factory CustomLog.fromJson(Map&lt;String, dynamic&gt; json) =&gt;
      _$CustomLogFromJson(json);

  @override
  LoggerAnsiColor getColor() =&gt; LoggerAnsiColor(enumAnsiColors: EnumAnsiColors.magenta);

  @override
  Map&lt;String, dynamic&gt; toJson() =&gt; _$CustomLogToJson(this);
}
</code></pre>
<h2 id="-contribuies">ü§ù Contribui√ß√µes</h2>
<p>Contribui√ß√µes s√£o bem-vindas! Por favor:</p>
<ol>
<li>Mantenha a API p√∫blica est√°vel</li>
<li>Documente mudan√ßas importantes no <code>CHANGELOG.md</code></li>
<li>Execute testes antes de enviar PRs</li>
<li>Siga as conven√ß√µes do <a href="https://dart.dev/guides/language/effective-dart">Effective Dart</a></li>
</ol>
<h2 id="-licena">üìÑ Licen√ßa</h2>
<p>Este projeto est√° licenciado sob os termos definidos no arquivo LICENSE do reposit√≥rio.</p>
</section>


      <section class="summary">
          <h2>Libraries</h2>
        <dl>
          <h3>Core - Sistema de Logging</h3>
          <p>Core ‚Äî Sistema de Logging</p>
            <dt id="log_custom_printer">
  <span class="name"><a href="log_custom_printer/">log_custom_printer</a></span> 
    <span class="category core---sistema-de-logging cp-0 linked" title="This is part of the Core - Sistema de Logging topic."><a href="topics/Core-topic.html">Core&nbsp;-&nbsp;Sistema&nbsp;de&nbsp;Logging</a></span>

</dt>
<dd>Biblioteca de logging customizada para Dart/Flutter.
</dd>

        </dl>
      </section>
  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li class="self-crumb">log_custom_printer package</li>
</ol>

    <h5 class="hidden-xs"><span class="package-name">log_custom_printer</span> <span class="package-kind">package</span></h5>
    <ol>
      <li class="section-title">Topics</li>
        <li><a href="topics/Core-topic.html">Core&nbsp;-&nbsp;Sistema&nbsp;de&nbsp;Logging</a></li>
        <li><a href="topics/Log Types-topic.html">Tipos&nbsp;de&nbsp;Log</a></li>
        <li><a href="topics/Printers-topic.html">Impressoras&nbsp;de&nbsp;Log</a></li>
        <li><a href="topics/Configuration-topic.html">Configura√ß√£o</a></li>
        <li><a href="topics/Utilities-topic.html">Utilit√°rios</a></li>
      <li class="section-title">Libraries</li>
      <li class="section-subtitle">Core - Sistema de Logging</li>
        <li class="section-subitem"><a href="log_custom_printer/">log_custom_printer</a></li>
</ol>

  </div>
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div>
</main>
<footer>
  <span class="no-break">
    log_custom_printer
      2.0.0
  </span>
  
</footer>


<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>

</body>
</html>

